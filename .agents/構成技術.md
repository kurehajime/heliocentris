# 構成技術

- React
- Vite
- TypeScript



## 画面描画
ReactでSVGを組み立ててゲーム画面を構築する。
./sample/iroawaseのコードを参考にする。


## class、type

基本的にはtypeを使う
〜Managerのようなものはclassを使い、メソッドを持つ。
ただしすべてのメソッドは〜Managerを返すstatic関数にする。
自分自身の状態を変更するメソッドは持たない。

### type
* GameState
ゲーム全体の状態を表す型
ただし時間と移動中の大地のピクセル単位の座標は含まない。

* FixedField:Cell[][]
設置ブロックの状態を表す型

* FallingField:Cell[][]
落下ブロックの状態を表す型

* Cell
フィールドの一マスの状態を表す型
ColorとCellStateを持つ。

* CellState
セルの状態を表す列挙型
Empty, Falling, Fixing, Fixed, Deletingの５種類

### class
* GameManager
ゲーム全体の状態を管理するクラス

### コンポーネント

* GameElement
ゲーム画面の要素を描画するコンポーネント
状態はすべてこのコンポーネントで持ち、イベントも全部引き受ける。
この子コンポーネントは純粋関数コンポーネントにする。

* FieldElement
フィールドを描画するコンポーネント

* BlockElement
ブロックを描画するコンポーネント